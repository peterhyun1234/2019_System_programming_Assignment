		JSUB	SCAN
		JSUB	COMP
		JSUB	PRINT



SCAN	LDS		#3
		LDX		#0
		LDF		#0
SLOOP	TD		STDIN
		JEQ		SLOOP
		RD		STDIN
		COMP	#32
		JEQ		STORE
		SUB		#48
		MULF	#10
		ADDR	A, F
		
		
AFSTR	COMP	#21
		JEQ		COMP
		J		SLOOP
		RSUB

STORE	FIX
		STA		INPUT, X
		ADDR	S, X
		LDF 	#0
		J		AFSTR



COMP	LDT		#3
		LDS		#3
		STX		TEMP
CLOOP	STT		TMP
		LDA		TMP
		SUB		S
		STA		TMP
		LDX		TMP
		LDA		INPUT, T	
		COMP	INPUT, X
		JEQ		AFTOC
		JGT		AFTOC
		JLT		SWAP
		J		CLOOP


AFTOC	J		PRINT
		STT		TMP
		LDA		TMP
		COMP	TEMP
		JEQ		END
		ADDR	S, T
		J		CLOOP
		RSUB

SWAP	STA		TMVL
		LDA		INPUT, X
		STA		INPUT, T
		LDA		TMVL
		STA		INPUT, X
		STX		TMP
		LDA		TMP
		SUB		S
		STA		TMP
		LDX		TMP
		J		CLOOP	
		
PRINT	LDS		#3
		LDX		#0
		LDT		TEMP
PLOOP	TD		STDOUT
		JEQ		PLOOP
		LDA		INPUT,X
		ADD		#48
		WD		STDOUT
		LDA		#32
		WD		STDOUT
		ADDR	S, X
		COMPR	X, T
		JLT		PLOOP
		LDA		#14
		WD		STDOUT
		LDA		#10
		WD		STDOUT
		RSUB		
END		LDX		#0

		
STDIN	BYTE	0
STDOUT	BYTE	1
TMVL	RESW	1
TEMP	RESW	1
TMP		RESW	1
INPUT	RESW	8
EOF		BYTE	C'EOF'
